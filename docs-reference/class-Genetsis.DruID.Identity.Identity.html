<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Genetsis\DruID\Identity\Identity | DruID PHP SDK</title>

	<link rel="stylesheet" href="resources/style.css?c2f33731c1948fbed7c333554678bfa68d4817da">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
				<li class="active">
					<a href="namespace-Genetsis.html">
						Genetsis<span></span>
					</a>

						<ul>
				<li class="active">
					<a href="namespace-Genetsis.DruID.html">
						DruID<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.Core.html">
						Core<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.Core.Config.html">
						Config<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.Core.Config.Beans.html">
						Beans<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.Core.Config.Beans.Cache.html">
						Cache					</a>

						</li>
							</ul></li></ul></li>
				<li>
					<a href="namespace-Genetsis.DruID.Core.Encryption.html">
						Encryption					</a>

						</li>
				<li>
					<a href="namespace-Genetsis.DruID.Core.Http.html">
						Http<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.Core.Http.Contracts.html">
						Contracts					</a>

						</li>
				<li>
					<a href="namespace-Genetsis.DruID.Core.Http.Exceptions.html">
						Exceptions					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Genetsis.DruID.Core.Logger.html">
						Logger					</a>

						</li>
				<li>
					<a href="namespace-Genetsis.DruID.Core.OAuth.html">
						OAuth<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.Core.OAuth.Beans.html">
						Beans<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.Core.OAuth.Beans.OAuthConfig.html">
						OAuthConfig					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Genetsis.DruID.Core.OAuth.Collections.html">
						Collections					</a>

						</li>
				<li>
					<a href="namespace-Genetsis.DruID.Core.OAuth.Contracts.html">
						Contracts					</a>

						</li>
				<li>
					<a href="namespace-Genetsis.DruID.Core.OAuth.Exceptions.html">
						Exceptions					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Genetsis.DruID.Core.User.html">
						User<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.Core.User.Beans.html">
						Beans					</a>

						</li>
				<li>
					<a href="namespace-Genetsis.DruID.Core.User.Collections.html">
						Collections					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Genetsis.DruID.Core.Utils.html">
						Utils<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.Core.Utils.Contracts.html">
						Contracts					</a>

						</li>
							</ul></li></ul></li>
				<li class="active">
					<a href="namespace-Genetsis.DruID.Identity.html">
						Identity<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.Identity.Contracts.html">
						Contracts					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Genetsis.DruID.Opi.html">
						Opi<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.Opi.Contracts.html">
						Contracts					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Genetsis.DruID.UrlBuilder.html">
						UrlBuilder<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.UrlBuilder.Collections.html">
						Collections					</a>

						</li>
				<li>
					<a href="namespace-Genetsis.DruID.UrlBuilder.Contracts.html">
						Contracts					</a>

						</li>
							</ul></li>
				<li>
					<a href="namespace-Genetsis.DruID.UserApi.html">
						UserApi<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.DruID.UserApi.Contracts.html">
						Contracts					</a>

						</li>
							</ul></li></ul></li></ul></li>
				<li>
					<a href="namespace-PHP.html">
						PHP					</a>

						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li class="active"><a href="class-Genetsis.DruID.Identity.Identity.html">Identity</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-Genetsis.DruID.Identity.html" title="Summary of Genetsis\DruID\Identity"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
			<li>
				<a href="tree.html" title="Tree view of classes, interfaces, traits and exceptions"><span>Tree</span></a>
			</li>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Identity</h1>



	<dl class="tree">
		<dd style="padding-left:0px">
<b><span>Genetsis\DruID\Identity\Identity</span></b>			
			 implements 
				<a href="class-Genetsis.DruID.Identity.Contracts.IdentityServiceInterface.html"><span>Genetsis\DruID\Identity\Contracts\IdentityServiceInterface</span></a>
			
			
		</dd>
	</dl>








	<div class="info">
		
		
		<b>Namespace:</b> <a href="namespace-Genetsis.html">Genetsis</a>\<a href="namespace-Genetsis.DruID.html">DruID</a>\<a href="namespace-Genetsis.DruID.Identity.html">Identity</a><br>
		

				<b>Author:</b>
				Genetsis<br>
				<b>Link:</b>
				<a href="http://developers.dru-id.com">http://developers.dru-id.com</a><br>
			<b>Located at</b> <a href="source-class-Genetsis.DruID.Identity.Identity.html#18-396" title="Go to source code">Genetsis/DruID/Identity/Identity.php</a>
		<br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="__construct" id="___construct">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#___construct">#</a>
		<code><a href="source-class-Genetsis.DruID.Identity.Identity.html#41-60" title="Go to source code">__construct</a>( <span><code><a href="class-Genetsis.DruID.Core.OAuth.Contracts.OAuthServiceInterface.html">Genetsis\DruID\Core\OAuth\Contracts\OAuthServiceInterface</a></code> <var>$oauth</var></span>, <span><code><a href="class-Genetsis.DruID.Core.Http.Contracts.SessionServiceInterface.html">Genetsis\DruID\Core\Http\Contracts\SessionServiceInterface</a></code> <var>$session</var></span>, <span><code><a href="class-Genetsis.DruID.Core.Http.Contracts.CookiesServiceInterface.html">Genetsis\DruID\Core\Http\Contracts\CookiesServiceInterface</a></code> <var>$cookie</var></span>, <span>Psr\Log\LoggerInterface <var>$logger</var></span>, <span>Doctrine\Common\Cache\Cache <var>$cache</var></span> )</code>

		<div class="description short">
			
		</div>

		<div class="description detailed hidden">
			


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$oauth</var></dt>
					<dd></dd>
					<dt><var>$session</var></dt>
					<dd></dd>
					<dt><var>$cookie</var></dt>
					<dd></dd>
					<dt><var>$logger</var></dt>
					<dd></dd>
					<dt><var>$cache</var></dt>
					<dd></dd>
				</dl></div>





		</div>
		</div></td>
	</tr>
	<tr data-order="synchronizeSessionWithServer" id="_synchronizeSessionWithServer">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_synchronizeSessionWithServer">#</a>
		<code><a href="source-class-Genetsis.DruID.Identity.Identity.html#62-113" title="Go to source code">synchronizeSessionWithServer</a>( )</code>

		<div class="description short">
			<p>This method verifies the authorization tokens (client_token,
access_token and refresh_token). Also updates the web client status,
storing the client_token, access_token and refresh tokend and
login_status in Things <code><a href="class-Genetsis.DruID.Core.User.Beans.Things.html">Genetsis\DruID\Core\User\Beans\Things</a></code>.</p>
		</div>

		<div class="description detailed hidden">
			<p>This method verifies the authorization tokens (client_token,
access_token and refresh_token). Also updates the web client status,
storing the client_token, access_token and refresh tokend and
login_status in Things <code><a href="class-Genetsis.DruID.Core.User.Beans.Things.html">Genetsis\DruID\Core\User\Beans\Things</a></code>.</p>

<p>Is INVOKE ON EACH REQUEST in order to check and update
the status of the user (not logged, logged or connected), and
verify that every token that you are gonna use before is going to be
valid.</p>




				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Exception.html">Exception</a></code>
				</div>



				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-Genetsis.DruID.Identity.Contracts.IdentityServiceInterface.html#_synchronizeSessionWithServer">Genetsis\DruID\Identity\Contracts\IdentityServiceInterface::synchronizeSessionWithServer()</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="clearLocalSessionData" id="_clearLocalSessionData">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_clearLocalSessionData">#</a>
		<code><a href="source-class-Genetsis.DruID.Identity.Identity.html#237-258" title="Go to source code">clearLocalSessionData</a>( )</code>

		<div class="description short">
			<p>Deletes the local data of the user's session.</p>
		</div>

		<div class="description detailed hidden">
			<p>Deletes the local data of the user's session.</p>







				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-Genetsis.DruID.Identity.Contracts.IdentityServiceInterface.html#_clearLocalSessionData">Genetsis\DruID\Identity\Contracts\IdentityServiceInterface::clearLocalSessionData()</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="isConnected" id="_isConnected">

		<td class="attributes"><code>
			 public 

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_isConnected">#</a>
		<code><a href="source-class-Genetsis.DruID.Identity.Identity.html#284-297" title="Go to source code">isConnected</a>( )</code>

		<div class="description short">
			<p>Helper to check if the user is connected (logged on Genetsis ID)</p>
		</div>

		<div class="description detailed hidden">
			<p>Helper to check if the user is connected (logged on Genetsis ID)</p>



				<h4>Returns</h4>
				<div class="list">
					boolean<br>TRUE if is logged, FALSE otherwise.
				</div>




				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-Genetsis.DruID.Identity.Contracts.IdentityServiceInterface.html#_isConnected">Genetsis\DruID\Identity\Contracts\IdentityServiceInterface::isConnected()</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="getThings" id="_getThings">

		<td class="attributes"><code>
			 public 

			<code><a href="class-Genetsis.DruID.Core.User.Beans.Things.html">Genetsis\DruID\Core\User\Beans\Things</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getThings">#</a>
		<code><a href="source-class-Genetsis.DruID.Identity.Identity.html#299-307" title="Go to source code">getThings</a>( )</code>

		<div class="description short">
			<p>Helper to access library data</p>
		</div>

		<div class="description detailed hidden">
			<p>Helper to access library data</p>



				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Genetsis.DruID.Core.User.Beans.Things.html">Genetsis\DruID\Core\User\Beans\Things</a></code>
				</div>




				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-Genetsis.DruID.Identity.Contracts.IdentityServiceInterface.html#_getThings">Genetsis\DruID\Identity\Contracts\IdentityServiceInterface::getThings()</a></code></div>
		</div>
		</div></td>
	</tr>
	<tr data-order="authorizeUser" id="_authorizeUser">

		<td class="attributes"><code>
			 public 

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_authorizeUser">#</a>
		<code><a href="source-class-Genetsis.DruID.Identity.Identity.html#309-345" title="Go to source code">authorizeUser</a>( <span>string <var>$code</var></span> )</code>

		<div class="description short">
			<p>In that case, the url of "post-login" will retrieve an authorization
code as a GET parameter.</p>
		</div>

		<div class="description detailed hidden">
			<p>In that case, the url of "post-login" will retrieve an authorization
code as a GET parameter.</p>

<p>Once the authorization code is provided to the web client, the SDK
will send it again to Genetsis ID at "token_endpoint" to obtain the
"access_token" of the user and create the cookie.</p>

<p>This method is needed to authorize user when the web client takes
back the control of the browser.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$code</var></dt>
					<dd>Authorization code returned by Genetsis ID.</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					<code><a href="class-Exception.html">Exception</a></code>
				</div>



				<h4>Implementation of</h4>
				<div class="list"><code><a href="class-Genetsis.DruID.Identity.Contracts.IdentityServiceInterface.html#_authorizeUser">Genetsis\DruID\Identity\Contracts\IdentityServiceInterface::authorizeUser()</a></code></div>
		</div>
		</div></td>
	</tr>
	</table>


















</div>

	<div id="footer">
		DruID PHP SDK API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js?c044ae731a47a1d6e1f3a1279a5caf0c8a6d3fac"></script>
<script src="elementlist.js?b03fea9ef93dca03130864a8a3c92605764aa764"></script>
</body>
</html>
