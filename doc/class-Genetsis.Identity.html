<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Genetsis\Identity | DruID reference manual</title>

	<link rel="stylesheet" href="resources/bootstrap.min.css?973e37a8502921d56bc02bb55321f45b072b6f71">
	<link rel="stylesheet" href="resources/style.css?49f43d3208c5d7e33fa16d36107a345bf11cc00d">

</head>

<body>
	<nav id="navigation" class="navbar navbar-default navbar-fixed-top">
		<div class="container-fluid">
			<div class="navbar-header">
				<a href="index.html" class="navbar-brand">DruID reference manual</a>
			</div>
			<div class="collapse navbar-collapse">

                <form id="search" class="navbar-form navbar-left" role="search">
                    <input type="hidden" name="cx" value="">
                    <input type="hidden" name="ie" value="UTF-8">
                    <div class="form-group">
                        <input type="text" name="q" class="search-query form-control" placeholder="Search">
					</div>
				</form>

				<ul class="nav navbar-nav">
					<li>
						<a href="namespace-Genetsis.html" title="Summary of Genetsis"><span>Namespace</span></a>
					</li>
					<li class="active">
<span>Class</span>					</li>





				</ul>
			</div>
		</div>
	</nav>

	<div id="left">
	<div id="menu">

		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
					<li class="active">
						<a href="namespace-Genetsis.html">
							Genetsis<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Genetsis.core.html">
							core<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Genetsis.core.Encryption.html">
							Encryption<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Genetsis.core.Encryption.Services.html">
							Services						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-Genetsis.core.Http.html">
							Http<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Genetsis.core.Http.Collections.html">
							Collections						</a>
							</li>
					<li>
						<a href="namespace-Genetsis.core.Http.Contracts.html">
							Contracts						</a>
							</li>
					<li>
						<a href="namespace-Genetsis.core.Http.Services.html">
							Services						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-Genetsis.core.Logger.html">
							Logger<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Genetsis.core.Logger.Collections.html">
							Collections						</a>
							</li>
					<li>
						<a href="namespace-Genetsis.core.Logger.Contracts.html">
							Contracts						</a>
							</li>
					<li>
						<a href="namespace-Genetsis.core.Logger.Services.html">
							Services						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-Genetsis.core.OAuth.html">
							OAuth<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Genetsis.core.OAuth.Beans.html">
							Beans<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Genetsis.core.OAuth.Beans.OAuthConfig.html">
							OAuthConfig						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-Genetsis.core.OAuth.Collections.html">
							Collections						</a>
							</li>
					<li>
						<a href="namespace-Genetsis.core.OAuth.Contracts.html">
							Contracts						</a>
							</li>
					<li>
						<a href="namespace-Genetsis.core.OAuth.Exceptions.html">
							Exceptions						</a>
							</li>
					<li>
						<a href="namespace-Genetsis.core.OAuth.Services.html">
							Services						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-Genetsis.core.ServiceContainer.html">
							ServiceContainer<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Genetsis.core.ServiceContainer.Contracts.html">
							Contracts						</a>
							</li>
					<li>
						<a href="namespace-Genetsis.core.ServiceContainer.Exceptions.html">
							Exceptions						</a>
							</li>
					<li>
						<a href="namespace-Genetsis.core.ServiceContainer.Services.html">
							Services						</a>
							</li>
								</ul></li>
					<li>
						<a href="namespace-Genetsis.core.User.html">
							User<span></span>
						</a>
							<ul>
					<li>
						<a href="namespace-Genetsis.core.User.Beans.html">
							Beans						</a>
							</li>
					<li>
						<a href="namespace-Genetsis.core.User.Collections.html">
							Collections						</a>
							</li>
								</ul></li></ul></li></ul></li>
			</ul>
		</div>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-Genetsis.AutoloaderClass.html">AutoloaderClass</a></li>
				<li><a href="class-Genetsis.Config.html">Config</a></li>
				<li class="active"><a href="class-Genetsis.Identity.html">Identity</a></li>
				<li><a href="class-Genetsis.Opi.html">Opi</a></li>
				<li><a href="class-Genetsis.URLBuilder.html">URLBuilder</a></li>
				<li><a href="class-Genetsis.UserApi.html">UserApi</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
	<div id="rightInner">
<div id="content" class="class">
	<h1>Class Identity</h1>


	<div class="description">
	<p>This is the main class of the DRUID library.</p>

<p>It's the class that wraps the whole set of classes of the library and
that you'll have to use the most. With it, you'll be able to check if a
user is logged, log them out, obtain the personal data of any user,
and check if a user has enough data to take part in a promotion, upload
content or carry out an action that requires a specific set of personal
data.</p>

<p>Sample usage:</p>

<pre>Identity::init();
   <span class="php-comment">// ...</span></pre>
	</div>









	<div class="alert alert-info">
		
		
		<b>Namespace:</b> <a href="namespace-Genetsis.html">Genetsis</a><br>
		<b>Package:</b> Genetsis<br>

				<b>Version:</b>
				2.0<br>
			<b>Located at</b> <a href="source-class-Genetsis.Identity.html#35-623" title="Go to source code"></a>
		<br>
	</div>



		<div class="panel panel-default">
			<div class="panel-heading"><h2>Methods summary</h2></div>
			<table class="summary table table-bordered table-striped methods" id="methods">
		<tr data-order="initialize" id="_initialize">

			<td class="attributes"><code>
				 public static
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_initialize">#</a>
			<code><a href="source-class-Genetsis.Identity.html#65-133" title="Go to source code">initialize</a>( <span>array <var>$settings</var> = []</span> )</code>

			<div class="description short">
				<p>When you initialize the library, the configuration defined in "oauthconf.xml" file of the gid_client is loaded
and by default this method auto-sync data (client_token, access_token,...) with server</p>
			</div>

			<div class="description detailed hidden">
				<p>When you initialize the library, the configuration defined in "oauthconf.xml" file of the gid_client is loaded
and by default this method auto-sync data (client_token, access_token,...) with server</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$settings</var></dt>
						<dd><p>Accepts:
     - 'app': (string) The app to load. The default app is 'default'.
     - 'xml': (string) The configuration XML.
     - 'sync': (boolean) Indicates whether to automatically synchronize data against the server. Default is TRUE.
     - 'ini_path': (string) If defined should be the internal path to the configuration file of the library (the druid.ini file).
         If this property is not defined then the library will search for this file at the default folder.
     - 'logger': (\Genetsis\core\Logger\Contracts\LoggerServiceInterface) If you want to define the logger for you application.</p></dd>
					</dl></div>


					<h4>Throws</h4>
					<div class="list">
						Exception
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="initializeConfig" id="_initializeConfig">

			<td class="attributes"><code>
				 public static
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_initializeConfig">#</a>
			<code><a href="source-class-Genetsis.Identity.html#135-147" title="Go to source code">initializeConfig</a>( <span>array <var>$settings</var> = []</span> )</code>

			<div class="description short">
				<p>When you initialize the library with this method, only the configuration defined in "oauthconf.xml" file of the gid_client is loaded
You must synchronize data with server if you need access to client or access token. This method is used for example, in ckactions.php actions.</p>
			</div>

			<div class="description detailed hidden">
				<p>When you initialize the library with this method, only the configuration defined in "oauthconf.xml" file of the gid_client is loaded
You must synchronize data with server if you need access to client or access token. This method is used for example, in ckactions.php actions.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$settings</var></dt>
						<dd>See <a href="Identity::initialize">Identity::initialize</a> for further information.</dd>
					</dl></div>


					<h4>Throws</h4>
					<div class="list">
						Exception
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="init" id="_init" class="deprecated">

			<td class="attributes"><code>
				 public static
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_init">#</a>
			<code><a href="source-class-Genetsis.Identity.html#149-161" title="Go to source code">init</a>( <span> <var>$gid_client</var> = <span class="php-quote">'default'</span></span>, <span> <var>$sync</var> = <span class="php-keyword1">true</span></span>, <span> <var>$ini_path</var> = <span class="php-keyword1">null</span></span> )</code>

			<div class="description short">
				<p>Deprecated. See <a href="Identity::initialize">Identity::initialize</a></p>
			</div>

			<div class="description detailed hidden">
				<p>Deprecated. See <a href="Identity::initialize">Identity::initialize</a></p>

					<h4>Deprecated</h4>
					<div class="list">
					</div>






			</div>
			</div></td>
		</tr>
		<tr data-order="initConfig" id="_initConfig" class="deprecated">

			<td class="attributes"><code>
				 public static
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_initConfig">#</a>
			<code><a href="source-class-Genetsis.Identity.html#163-174" title="Go to source code">initConfig</a>( <span> <var>$gid_client</var> = <span class="php-quote">'default'</span></span> )</code>

			<div class="description short">
				<p>Deprecated. See <a href="Identity::initialize">Identity::initialize</a></p>
			</div>

			<div class="description detailed hidden">
				<p>Deprecated. See <a href="Identity::initialize">Identity::initialize</a></p>

					<h4>Deprecated</h4>
					<div class="list">
					</div>






			</div>
			</div></td>
		</tr>
		<tr data-order="synchronizeSessionWithServer" id="_synchronizeSessionWithServer">

			<td class="attributes"><code>
				 public static
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_synchronizeSessionWithServer">#</a>
			<code><a href="source-class-Genetsis.Identity.html#176-225" title="Go to source code">synchronizeSessionWithServer</a>( )</code>

			<div class="description short">
				<p>This method verifies the authorization tokens (client_token,
access_token and refresh_token). Also updates the web client status,
storing the client_token, access_token and refresh tokend and
login_status in Things <code><a href="class-Genetsis.core.User.Beans.Things.html">Genetsis\core\User\Beans\Things</a></code>.</p>
			</div>

			<div class="description detailed hidden">
				<p>This method verifies the authorization tokens (client_token,
access_token and refresh_token). Also updates the web client status,
storing the client_token, access_token and refresh tokend and
login_status in Things <code><a href="class-Genetsis.core.User.Beans.Things.html">Genetsis\core\User\Beans\Things</a></code>.</p>

<p>Is INVOKE ON EACH REQUEST in order to check and update
the status of the user (not logged, logged or connected), and
verify that every token that you are gonna use before is going to be
valid.</p>







			</div>
			</div></td>
		</tr>
		<tr data-order="isConnected" id="_isConnected">

			<td class="attributes"><code>
				 public static
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_isConnected">#</a>
			<code><a href="source-class-Genetsis.Identity.html#406-419" title="Go to source code">isConnected</a>( )</code>

			<div class="description short">
				<p>Helper to check if the user is connected (logged on Genetsis ID)</p>
			</div>

			<div class="description detailed hidden">
				<p>Helper to check if the user is connected (logged on Genetsis ID)</p>



					<h4>Returns</h4>
					<div class="list">
						boolean<br>TRUE if is logged, FALSE otherwise.
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="getThings" id="_getThings">

			<td class="attributes"><code>
				 public static
				<code><a href="class-Genetsis.core.User.Beans.Things.html">Genetsis\core\User\Beans\Things</a></code>
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getThings">#</a>
			<code><a href="source-class-Genetsis.Identity.html#421-429" title="Go to source code">getThings</a>( )</code>

			<div class="description short">
				<p>Helper to access library data</p>
			</div>

			<div class="description detailed hidden">
				<p>Helper to access library data</p>



					<h4>Returns</h4>
					<div class="list">
						<code><a href="class-Genetsis.core.User.Beans.Things.html">Genetsis\core\User\Beans\Things</a></code>
					</div>




			</div>
			</div></td>
		</tr>
		<tr data-order="authorizeUser" id="_authorizeUser">

			<td class="attributes"><code>
				 public static
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_authorizeUser">#</a>
			<code><a href="source-class-Genetsis.Identity.html#431-467" title="Go to source code">authorizeUser</a>( <span>string <var>$code</var></span> )</code>

			<div class="description short">
				<p>In that case, the url of "post-login" will retrieve an authorization
code as a GET parameter.</p>
			</div>

			<div class="description detailed hidden">
				<p>In that case, the url of "post-login" will retrieve an authorization
code as a GET parameter.</p>

<p>Once the authorization code is provided to the web client, the SDK
will send it again to Genetsis ID at "token_endpoint" to obtain the
"access_token" of the user and create the cookie.</p>

<p>This method is needed to authorize user when the web client takes
back the control of the browser.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$code</var></dt>
						<dd>Authorization code returned by Genetsis ID.</dd>
					</dl></div>


					<h4>Throws</h4>
					<div class="list">
						/Exception
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="checkUserComplete" id="_checkUserComplete">

			<td class="attributes"><code>
				 public static
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_checkUserComplete">#</a>
			<code><a href="source-class-Genetsis.Identity.html#469-505" title="Go to source code">checkUserComplete</a>( <span> <var>$scope</var></span> )</code>

			<div class="description short">
				<p>Checks if the user have been completed all required fields for that
section.</p>
			</div>

			<div class="description detailed hidden">
				<p>Checks if the user have been completed all required fields for that
section.</p>

<p>The "scope" (section) is a group of fields configured in Genetsis ID for
a web client.</p>

<p>A section can be also defined as a "part" (section) of the website
(web client) that only can be accesed by a user who have filled a
set of personal information configured in Genetsis ID (all of the fields
required for that section).</p>

<p>This method is commonly used for promotions or sweepstakes: if a
user wants to participate in a promotion, the web client must
ensure that the user have all the fields filled in order to let him
participate.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$scope</var></dt>
						<dd><p>Section-key identifier of the web client. The
    section-key is located in "oauthconf.xml" file.</p></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean<br><p>TRUE if the user have already completed all the
    fields needed for that section, false in otherwise</p>
					</div>

					<h4>Throws</h4>
					<div class="list">
						Exception
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="checkUserNeedAcceptTerms" id="_checkUserNeedAcceptTerms">

			<td class="attributes"><code>
				 public static
				boolean
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_checkUserNeedAcceptTerms">#</a>
			<code><a href="source-class-Genetsis.Identity.html#507-536" title="Go to source code">checkUserNeedAcceptTerms</a>( <span> <var>$scope</var></span> )</code>

			<div class="description short">
				<p>Checks if the user needs to accept terms and conditions for that section.</p>
			</div>

			<div class="description detailed hidden">
				<p>Checks if the user needs to accept terms and conditions for that section.</p>

<p>The "scope" (section) is a group of fields configured in DruID for
a web client.</p>

<p>A section can be also defined as a "part" (section) of the website
(web client) that only can be accessed by a user who have filled a
set of personal information configured in DruID.</p>


					<h4>Parameters</h4>
					<div class="list"><dl>
						<dt><var>$scope</var></dt>
						<dd><p>Section-key identifier of the web client. The
    section-key is located in "oauthconf.xml" file.</p></dd>
					</dl></div>

					<h4>Returns</h4>
					<div class="list">
						boolean<br><p>TRUE if the user need to accept terms and conditions, FALSE if it has
     already accepted them.</p>
					</div>

					<h4>Throws</h4>
					<div class="list">
						Exception
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="logoutUser" id="_logoutUser">

			<td class="attributes"><code>
				 public static
				
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_logoutUser">#</a>
			<code><a href="source-class-Genetsis.Identity.html#538-562" title="Go to source code">logoutUser</a>( )</code>

			<div class="description short">
				<p>Performs the logout process.</p>
			</div>

			<div class="description detailed hidden">
				<p>Performs the logout process.</p>

<p>It makes:
- The logout call to Genetsis ID
- Clear cookies
- Purge Tokens and local data for the logged user</p>




					<h4>Throws</h4>
					<div class="list">
						Exception
					</div>



			</div>
			</div></td>
		</tr>
		<tr data-order="getLogger" id="_getLogger" class="deprecated">

			<td class="attributes"><code>
				 public static
				Logger
				
				</code>
			</td>

			<td class="name"><div>
			<a class="anchor" href="#_getLogger">#</a>
			<code><a href="source-class-Genetsis.Identity.html#587-596" title="Go to source code">getLogger</a>( )</code>

			<div class="description short">
				<p>Helper to access an static instance of Logger</p>
			</div>

			<div class="description detailed hidden">
				<p>Helper to access an static instance of Logger</p>

					<h4>Deprecated</h4>
					<div class="list">
					</div>


					<h4>Returns</h4>
					<div class="list">
						Logger
					</div>




			</div>
			</div></td>
		</tr>
			</table>
		</div>











</div>
	</div>

	<div id="footer">
		DruID reference manual API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
