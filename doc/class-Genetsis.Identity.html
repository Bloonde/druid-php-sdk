<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Class Genetsis\Identity</title>

	<link rel="stylesheet" href="resources/style.css?e99947befd7bf673c6b43ff75e9e0f170c88a60e">

</head>

<body>
<div id="left">
	<div id="menu">
		<a href="index.html" title="Overview"><span>Overview</span></a>


		<div id="groups">
				<h3>Namespaces</h3>
			<ul>
				<li class="active">
					<a href="namespace-Genetsis.html">
						Genetsis<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.core.html">
						core<span></span>
					</a>

						<ul>
				<li>
					<a href="namespace-Genetsis.core.user.html">
						user					</a>

						</li>
							</ul></li></ul></li>
				<li>
					<a href="namespace-None.html">
						None					</a>

						</li>
			</ul>
		</div>

		<hr>


		<div id="elements">
			<h3>Classes</h3>
			<ul>
				<li><a href="class-Genetsis.AutoloaderClass.html">AutoloaderClass</a></li>
				<li><a href="class-Genetsis.Config.html">Config</a></li>
				<li class="active"><a href="class-Genetsis.Identity.html">Identity</a></li>
				<li><a href="class-Genetsis.URLBuilder.html">URLBuilder</a></li>
				<li><a href="class-Genetsis.UserApi.html">UserApi</a></li>
			</ul>





		</div>
	</div>
</div>

<div id="splitter"></div>

<div id="right">
<div id="rightInner">
	<form id="search">
		<input type="hidden" name="cx" value="">
		<input type="hidden" name="ie" value="UTF-8">
		<input type="text" name="q" class="text" placeholder="Search">
	</form>

	<div id="navigation">
		<ul>
			<li>
				<a href="index.html" title="Overview"><span>Overview</span></a>
			</li>
			<li>
				<a href="namespace-Genetsis.html" title="Summary of Genetsis"><span>Namespace</span></a>
			</li>
			<li class="active">
<span>Class</span>			</li>
		</ul>
		<ul>
		</ul>
		<ul>
		</ul>
	</div>

<div id="content" class="class">
	<h1>Class Identity</h1>


	<div class="description">
	<p>This is the main class of the Genetsis ID library.</p>

<p>It's the class that wraps the whole set of classes of the library and
that you'll have to use the most. With it, you'll be able to check if a
user is logged, log them out, obtain the personal data of any user,
and check if a user has enough data to take part in a promotion, upload
content or carry out an action that requires a specific set of personal
data.</p>

<p>Sample usage:</p>

<pre>Identity::init();
   <span class="php-comment">// ...</span></pre>
	</div>









	<div class="info">
		
		
		<b>Namespace:</b> <a href="namespace-Genetsis.html">Genetsis</a><br>
		<b>Package:</b> Genetsis<br>

				<b>Version:</b>
				2.0<br>
			<b>Located at</b> <a href="source-class-Genetsis.Identity.html#29-516" title="Go to source code">Identity.php</a>
		<br>
	</div>



	<table class="summary methods" id="methods">
	<caption>Methods summary</caption>
	<tr data-order="initConfig" id="_initConfig">

		<td class="attributes"><code>
			 public static

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_initConfig">#</a>
		<code><a href="source-class-Genetsis.Identity.html#60-70" title="Go to source code">initConfig</a>( <span>string <var>$gid_client</var> = <span class="php-quote">'default'</span></span> )</code>

		<div class="description short">
			<p>When you initialize the library with this method, only the configuration defined in "oauthconf.xml" file of the gid_client is loaded
You must synchronize data with server if you need access to client or access token. This method is used for example, in ckactions.php actions.</p>
		</div>

		<div class="description detailed hidden">
			<p>When you initialize the library with this method, only the configuration defined in "oauthconf.xml" file of the gid_client is loaded
You must synchronize data with server if you need access to client or access token. This method is used for example, in ckactions.php actions.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$gid_client</var></dt>
					<dd></dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					Exception
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="init" id="_init">

		<td class="attributes"><code>
			 public static

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_init">#</a>
		<code><a href="source-class-Genetsis.Identity.html#72-120" title="Go to source code">init</a>( <span>string <var>$gid_client</var> = <span class="php-quote">'default'</span></span>, <span>boolean <var>$sync</var> = <span class="php-keyword1">true</span></span>, <span>string <var>$ini_path</var> = <span class="php-keyword1">null</span></span> )</code>

		<div class="description short">
			<p>When you initialize the library, the configuration defined in "oauthconf.xml" file of the gid_client is loaded
and by default this method auto-sync data (client_token, access_token,...) with server</p>
		</div>

		<div class="description detailed hidden">
			<p>When you initialize the library, the configuration defined in "oauthconf.xml" file of the gid_client is loaded
and by default this method auto-sync data (client_token, access_token,...) with server</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$gid_client</var></dt>
					<dd>GID Client to load</dd>
					<dt><var>$sync</var></dt>
					<dd>Indicates if automatic data synchronization with the server is enabled</dd>
					<dt><var>$ini_path</var></dt>
					<dd>path of the configuration of the library (druid.ini file) if no argument passed, the default path and file will be /config/druid.ini</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					Exception
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="synchronizeSessionWithServer" id="_synchronizeSessionWithServer">

		<td class="attributes"><code>
			 public static

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_synchronizeSessionWithServer">#</a>
		<code><a href="source-class-Genetsis.Identity.html#122-171" title="Go to source code">synchronizeSessionWithServer</a>( )</code>

		<div class="description short">
			<p>This method verifies the authorization tokens (client_token,
access_token and refresh_token). Also updates the web client status,
storing the client_token, access_token and refresh tokend and
login_status in Things <code><a href="class-Genetsis.core.Things.html">Genetsis\core\Things</a></code>.</p>
		</div>

		<div class="description detailed hidden">
			<p>This method verifies the authorization tokens (client_token,
access_token and refresh_token). Also updates the web client status,
storing the client_token, access_token and refresh tokend and
login_status in Things <code><a href="class-Genetsis.core.Things.html">Genetsis\core\Things</a></code>.</p>

<p>Is INVOKE ON EACH REQUEST in order to check and update
the status of the user (not logged, logged or connected), and
verify that every token that you are gonna use before is going to be
valid.</p>







		</div>
		</div></td>
	</tr>
	<tr data-order="isConnected" id="_isConnected">

		<td class="attributes"><code>
			 public static

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_isConnected">#</a>
		<code><a href="source-class-Genetsis.Identity.html#331-344" title="Go to source code">isConnected</a>( )</code>

		<div class="description short">
			<p>Helper to check if the user is connected (logged on Genetsis ID)</p>
		</div>

		<div class="description detailed hidden">
			<p>Helper to check if the user is connected (logged on Genetsis ID)</p>



				<h4>Returns</h4>
				<div class="list">
					boolean<br>TRUE if is logged, FALSE otherwise.
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="getThings" id="_getThings">

		<td class="attributes"><code>
			 public static

			<code><a href="class-Genetsis.core.Things.html">Genetsis\core\Things</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getThings">#</a>
		<code><a href="source-class-Genetsis.Identity.html#346-354" title="Go to source code">getThings</a>( )</code>

		<div class="description short">
			<p>Helper to access library data</p>
		</div>

		<div class="description detailed hidden">
			<p>Helper to access library data</p>



				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Genetsis.core.Things.html">Genetsis\core\Things</a></code>
				</div>




		</div>
		</div></td>
	</tr>
	<tr data-order="authorizeUser" id="_authorizeUser">

		<td class="attributes"><code>
			 public static

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_authorizeUser">#</a>
		<code><a href="source-class-Genetsis.Identity.html#356-392" title="Go to source code">authorizeUser</a>( <span>string <var>$code</var></span> )</code>

		<div class="description short">
			<p>In that case, the url of "post-login" will retrieve an authorization
code as a GET parameter.</p>
		</div>

		<div class="description detailed hidden">
			<p>In that case, the url of "post-login" will retrieve an authorization
code as a GET parameter.</p>

<p>Once the authorization code is provided to the web client, the SDK
will send it again to Genetsis ID at "token_endpoint" to obtain the
"access_token" of the user and create the cookie.</p>

<p>This method is needed to authorize user when the web client takes
back the control of the browser.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$code</var></dt>
					<dd>Authorization code returned by Genetsis ID.</dd>
				</dl></div>


				<h4>Throws</h4>
				<div class="list">
					/Exception
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="checkUserComplete" id="_checkUserComplete">

		<td class="attributes"><code>
			 public static

			boolean
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_checkUserComplete">#</a>
		<code><a href="source-class-Genetsis.Identity.html#394-430" title="Go to source code">checkUserComplete</a>( <span> <var>$scope</var></span> )</code>

		<div class="description short">
			<p>Checks if the user have been completed all required fields for that
section.</p>
		</div>

		<div class="description detailed hidden">
			<p>Checks if the user have been completed all required fields for that
section.</p>

<p>The "scope" (section) is a group of fields configured in Genetsis ID for
a web client.</p>

<p>A section can be also defined as a "part" (section) of the website
(web client) that only can be accesed by a user who have filled a
set of personal information configured in Genetsis ID (all of the fields
required for that section).</p>

<p>This method is commonly used for promotions or sweepstakes: if a
user wants to participate in a promotion, the web client must
ensure that the user have all the fields filled in order to let him
participate.</p>


				<h4>Parameters</h4>
				<div class="list"><dl>
					<dt><var>$scope</var></dt>
					<dd><p>Section-key identifier of the web client. The
    section-key is located in "oauthconf.xml" file.</p></dd>
				</dl></div>

				<h4>Returns</h4>
				<div class="list">
					boolean<br><p>TRUE if the user have already completed all the
    fields needed for that section, false in otherwise</p>
				</div>

				<h4>Throws</h4>
				<div class="list">
					Exception
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="logoutUser" id="_logoutUser">

		<td class="attributes"><code>
			 public static

			
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_logoutUser">#</a>
		<code><a href="source-class-Genetsis.Identity.html#432-456" title="Go to source code">logoutUser</a>( )</code>

		<div class="description short">
			<p>Performs the logout process.</p>
		</div>

		<div class="description detailed hidden">
			<p>Performs the logout process.</p>

<p>It makes:
- The logout call to Genetsis ID
- Clear cookies
- Purge Tokens and local data for the logged user</p>




				<h4>Throws</h4>
				<div class="list">
					Exception
				</div>



		</div>
		</div></td>
	</tr>
	<tr data-order="getLogger" id="_getLogger">

		<td class="attributes"><code>
			 public static

			<code><a href="class-Logger.html" class="invalid">Logger</a></code>
			
			</code>
		</td>

		<td class="name"><div>
		<a class="anchor" href="#_getLogger">#</a>
		<code><a href="source-class-Genetsis.Identity.html#481-489" title="Go to source code">getLogger</a>( )</code>

		<div class="description short">
			<p>Helper to access an static instance of Logger</p>
		</div>

		<div class="description detailed hidden">
			<p>Helper to access an static instance of Logger</p>



				<h4>Returns</h4>
				<div class="list">
					<code><a href="class-Logger.html" class="invalid">Logger</a></code>
				</div>




		</div>
		</div></td>
	</tr>
	</table>


















</div>

	<div id="footer">
		 API documentation generated by <a href="http://apigen.org">ApiGen</a>
	</div>
</div>
</div>
<script src="resources/combined.js"></script>
<script src="elementlist.js"></script>
</body>
</html>
